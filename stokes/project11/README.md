# stokes/project11/

The glacier in this directory has different geometry from that generated by `stokes/domain.py`.  Here it is a glacier margin.  Specifically, the script `profile.py` generates a surface elevation from a power-law parameterization of the surface:

`x(t) = L (1 - t^3/2), y(t) = H0 t`

for `0 <= t <= 1`.  The bed elevation is zero.

Like `stokes/domain.py`, the script `profile.py` creates a geometry-description (`.geo`) file suitable for Gmsh.  The surface nodes in this mesh are equally-spaced in arclength, though that feature is probably not critical.

### Usage

        $ ./profile.py -o margin.geo
        $ gmsh -2 margin.geo

This generates a 2D mesh in `margin.msh` with the default mesh feature size of 80 m.  You can view it in Gmsh with `gmsh margin.msh`.

Next, make sure you have activated the Firedrake venv as described in `stokes/README.md`, and then do a run like the following.  We set the direction of gravity to be vertical (`alpha`=0):

        (firedrake) $ ../flow.py -mesh margin.msh -alpha 0.0

One may also generate a higher-resolution mesh with

        $ ./profile.py -hmesh 40.0 -o margin.geo

and repeat the steps.  There are many more run-time options for `flow.py`; for these see the source and the PDF `stokes/doc/stokes.pdf`.